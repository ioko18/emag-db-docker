
# .env.example
# =========================
# ENV & RUNTIME
# =========================
ENV=development
TZ=Europe/Bucharest
PYTHONUNBUFFERED=1
LOG_LEVEL=info
APP_TITLE=emag-db-api
APP_VERSION=0.1.0
# ROOT_PATH=/api                  # (opțional) dacă rulezi în spatele unui reverse proxy pe subpath
DISABLE_DOCS=0                    # 1 pentru a dezactiva /docs /redoc /openapi.json
GIT_SHA=                          # completat de pipeline la build

# =========================
# APP SERVER
# =========================
APP_PORT=8010                     # host port (containerul expune 8001)
# TRUSTED_HOSTS="localhost,127.0.0.1,.exemplu.ro"   # activează Starlette TrustedHostMiddleware
# CORS_ORIGINS="http://localhost:3000,https://frontend.exemplu.ro"
ENABLE_HSTS=0                     # 1 doar dacă ești pe HTTPS
MAX_BODY_SIZE_BYTES=0             # 0 = fără limită (bazat pe Content-Length)

# =========================
# OBSERVABILITY (opțional)
# =========================
# Protecție pe /observability* cu cheie
OBS_KEY=obskey_7mQ6Xv4y1Zu3b9E2rG5nK0tWc8hJpLd      # schimbă în producție!
OBS_PROTECT_PREFIXES=/observability

# =========================
# DATABASE (PostgreSQL)
# =========================
DB_PORT=5434
POSTGRES_USER=appuser
POSTGRES_PASSWORD=appsecret
POSTGRES_DB=appdb
DB_SCHEMA=app
ALEMBIC_VERSION_TABLE=alembic_version
ALEMBIC_CONFIG=/app/alembic.ini

# Enforce search_path la conectare (folosit de app container)
PGOPTIONS=-c search_path=app,public

# URL pentru rulare pe host (uvicorn pe host; pentru container/compose folosește servicii)
DATABASE_URL=postgresql+psycopg2://appuser:appsecret@127.0.0.1:${DB_PORT}/appdb

# SQLAlchemy pool & comportament
DB_ECHO=0
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_RECYCLE=1800
DB_POOL_TIMEOUT=30
SQLALCHEMY_CREATE_ALL=0

# (opțional) Statement timeout la nivel de conexiune (ms) – doar dacă îl aplici în cod
# DB_STATEMENT_TIMEOUT_MS=15000

# =========================
# eMAG MARKETPLACE – CREDENȚIALE (DOUĂ CONTURI: MAIN & FBE)
# Model DRY: UN SINGUR set pe cont + override opțional per țară (RO/BG/HU)
# =========================

# ---- Seturi implicite pe cont (se aplică la RO/BG/HU dacă NU există override) ----
EMAG_MAIN_USER=your_main_account@email.com
EMAG_MAIN_PASS=change_me_strong_password

EMAG_FBE_USER=your_fbe_account@email.com
EMAG_FBE_PASS=change_me_strong_password

# ---- Override opțional PER ȚARĂ (DEZACTIVAT implicit) ----
# Dacă la un moment dat credențialele diferă pentru o țară, decomentează și setează DOAR pentru acea țară.
# MAIN:
# EMAG_MAIN_RO_USER=
# EMAG_MAIN_RO_PASS=
# EMAG_MAIN_BG_USER=
# EMAG_MAIN_BG_PASS=
# EMAG_MAIN_HU_USER=
# EMAG_MAIN_HU_PASS=

# FBE:
# EMAG_FBE_RO_USER=
# EMAG_FBE_RO_PASS=
# EMAG_FBE_BG_USER=
# EMAG_FBE_BG_PASS=
# EMAG_FBE_HU_USER=
# EMAG_FBE_HU_PASS=

# (opțional) fallback GLOBAL – folosit doar dacă lipsește și per-țară, și per-cont
# EMAG_GLOBAL_USER=
# EMAG_GLOBAL_PASS=

# (opțional) tuning rate-limit, dacă vrei să suprascrii valorile default din SDK:
# EMAG_ORDERS_RPS=12
# EMAG_DEFAULT_RPS=3

# =========================
# INTEGRĂRI – ALTE SETĂRI (opțional)
# =========================
# TIMEOUT_CONNECT_S=10
# TIMEOUT_READ_S=30
